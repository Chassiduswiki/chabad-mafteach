
> chabad-research@0.1.0 test
> jest __tests__/components.test.tsx

  console.error
    Error: Test error
        at ThrowError (/Users/yitzchok/Documents/Directus/chabad-research/__tests__/components.test.tsx:22:13)
        at Object.react_stack_bottom_frame (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
        at renderWithHooks (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
        at updateFunctionComponent (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
        at beginWork (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
        at runWithFiberInDEV (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
        at performUnitOfWork (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
        at workLoopSync (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
        at renderRootSync (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
        at performWorkOnRoot (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
        at performWorkOnRootViaSchedulerTask (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
        at flushActQueue (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:590:34)
        at process.env.NODE_ENV.exports.act (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:884:10)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/yitzchok/Documents/Directus/chabad-research/__tests__/components.test.tsx:25:11)
        at Promise.finally.completed (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
        at _callCircusTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
        at _runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
        at run (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
        at jestAdapter (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:275:16)
        at runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:343:7) {
      [stack]: [Getter/Setter],
      [message]: 'Test error'
    }
    
    The above error occurred in the <ThrowError> component.
    
    React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.

      23 |     };
      24 |
    > 25 |     render(
         |           ^
      26 |       <ErrorBoundary>
      27 |         <ThrowError />
      28 |       </ErrorBoundary>

      at defaultOnCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9410:17)
      at logCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9446:9)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at ErrorBoundary.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9493:11)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:13377:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14026:25)
      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15159:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14031:11)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components.test.tsx:25:11)

  console.error
    Uncaught error: Error: Test error
        at ThrowError (/Users/yitzchok/Documents/Directus/chabad-research/__tests__/components.test.tsx:22:13)
        at Object.react_stack_bottom_frame (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
        at renderWithHooks (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
        at updateFunctionComponent (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
        at beginWork (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
        at runWithFiberInDEV (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
        at performUnitOfWork (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
        at workLoopSync (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
        at renderRootSync (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
        at performWorkOnRoot (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
        at performWorkOnRootViaSchedulerTask (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
        at flushActQueue (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:590:34)
        at process.env.NODE_ENV.exports.act (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:884:10)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/yitzchok/Documents/Directus/chabad-research/__tests__/components.test.tsx:25:11)
        at Promise.finally.completed (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
        at _callCircusTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
        at _runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
        at run (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
        at jestAdapter (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:275:16)
        at runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:343:7) {
      componentStack: '\n' +
        '    at ThrowError (/Users/yitzchok/Documents/Directus/chabad-research/__tests__/components.test.tsx:22:13)\n' +
        '    at ErrorBoundary (/Users/yitzchok/Documents/Directus/chabad-research/components/layout/ErrorBoundary.tsx:17:8)'
    }

      26 |
      27 |     public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    > 28 |         console.error('Uncaught error:', error, errorInfo);
         |                 ^
      29 |     }
      30 |
      31 |     private handleRetry = () => {

      at ErrorBoundary.error [as componentDidCatch] (components/layout/ErrorBoundary.tsx:28:17)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25959:20)
      at ErrorBoundary.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9504:11)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:13377:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14026:25)
      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15159:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14031:11)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components.test.tsx:25:11)

  console.error
    Error loading content blocks: TypeError: Cannot read properties of undefined (reading 'then')
        at Object.t [as request] (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@directus/sdk/src/utils/request.ts:18:18)
        at Object.request (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@directus/sdk/src/rest/composable.ts:59:35)
        at request (/Users/yitzchok/Documents/Directus/chabad-research/components/topics/ArticleTab.tsx:100:53)
        at loadContentBlocks (/Users/yitzchok/Documents/Directus/chabad-research/components/topics/ArticleTab.tsx:77:9)
        at Object.react_stack_bottom_frame (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
        at commitHookEffectListMount (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
        at flushPassiveEffects (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
        at flushActQueue (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:590:34)
        at process.env.NODE_ENV.exports.act (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:884:10)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/yitzchok/Documents/Directus/chabad-research/__tests__/components.test.tsx:101:11)
        at Promise.finally.completed (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
        at _callCircusTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
        at _runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
        at run (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
        at jestAdapter (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:275:16)
        at runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:343:7)

      167 |             setContentBlocks(contentBlocksWithStatements);
      168 |         } catch (error) {
    > 169 |             console.error('Error loading content blocks:', error);
          |                     ^
      170 |             setContentBlocks([]);
      171 |         } finally {
      172 |             setIsLoading(false);

      at error (components/topics/ArticleTab.tsx:169:21)

  console.error
    An update to ArticleTab inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      168 |         } catch (error) {
      169 |             console.error('Error loading content blocks:', error);
    > 170 |             setContentBlocks([]);
          |             ^
      171 |         } finally {
      172 |             setIsLoading(false);
      173 |         }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setContentBlocks (components/topics/ArticleTab.tsx:170:13)

  console.error
    An update to ArticleTab inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      170 |             setContentBlocks([]);
      171 |         } finally {
    > 172 |             setIsLoading(false);
          |             ^
      173 |         }
      174 |     };
      175 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsLoading (components/topics/ArticleTab.tsx:172:13)

  console.error
    Error loading content blocks: TypeError: Cannot read properties of undefined (reading 'then')
        at Object.t [as request] (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@directus/sdk/src/utils/request.ts:18:18)
        at Object.request (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@directus/sdk/src/rest/composable.ts:59:35)
        at request (/Users/yitzchok/Documents/Directus/chabad-research/components/topics/ArticleTab.tsx:100:53)
        at loadContentBlocks (/Users/yitzchok/Documents/Directus/chabad-research/components/topics/ArticleTab.tsx:77:9)
        at Object.react_stack_bottom_frame (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
        at commitHookEffectListMount (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
        at flushPassiveEffects (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
        at flushActQueue (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:590:34)
        at process.env.NODE_ENV.exports.act (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/react/cjs/react.development.js:884:10)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/yitzchok/Documents/Directus/chabad-research/__tests__/components.test.tsx:120:11)
        at Promise.finally.completed (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
        at _callCircusTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
        at _runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
        at /Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
        at run (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
        at jestAdapter (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:275:16)
        at runTest (/Users/yitzchok/Documents/Directus/chabad-research/node_modules/jest-runner/build/index.js:343:7)

      167 |             setContentBlocks(contentBlocksWithStatements);
      168 |         } catch (error) {
    > 169 |             console.error('Error loading content blocks:', error);
          |                     ^
      170 |             setContentBlocks([]);
      171 |         } finally {
      172 |             setIsLoading(false);

      at error (components/topics/ArticleTab.tsx:169:21)

  console.error
    An update to ArticleTab inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      168 |         } catch (error) {
      169 |             console.error('Error loading content blocks:', error);
    > 170 |             setContentBlocks([]);
          |             ^
      171 |         } finally {
      172 |             setIsLoading(false);
      173 |         }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setContentBlocks (components/topics/ArticleTab.tsx:170:13)

  console.error
    An update to ArticleTab inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      170 |             setContentBlocks([]);
      171 |         } finally {
    > 172 |             setIsLoading(false);
          |             ^
      173 |         }
      174 |     };
      175 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsLoading (components/topics/ArticleTab.tsx:172:13)

  console.error
    Failed to fetch categories: TypeError: Cannot read properties of undefined (reading 'json')
        at json (/Users/yitzchok/Documents/Directus/chabad-research/components/explore/ExploreCategories.tsx:206:45)

      242 |                 setDocumentCategories(documents);
      243 |             } catch (error) {
    > 244 |                 console.error('Failed to fetch categories:', error);
          |                         ^
      245 |             } finally {
      246 |                 setLoading(false);
      247 |             }

      at error (components/explore/ExploreCategories.tsx:244:25)

  console.error
    An update to ExploreCategories inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      244 |                 console.error('Failed to fetch categories:', error);
      245 |             } finally {
    > 246 |                 setLoading(false);
          |                 ^
      247 |             }
      248 |         };
      249 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/explore/ExploreCategories.tsx:246:17)

FAIL __tests__/components.test.tsx
  ErrorBoundary
    ✓ renders children when no error (12 ms)
    ✓ renders error UI when error occurs (28 ms)
  Topics API
    ✓ validates limit parameter (1 ms)
    ✓ validates category parameter
  Chabad Mafteach Tests
    ✓ should pass basic functionality test
    ✓ should validate application is ready for deployment (1 ms)
    ✓ should confirm security improvements are in place
    ✓ should confirm performance optimizations are implemented
  ArticleTab Integration
    ✓ handles empty paragraphs gracefully (12 ms)
    ✓ renders content blocks via ArticleReader (4 ms)
  Performance
    ✓ ExploreCategories renders within performance budget (4 ms)
    ✕ ArticleReader handles large content efficiently (3 ms)

  ● Performance › ArticleReader handles large content efficiently

    TypeError: Cannot read properties of undefined (reading 'match')

      146 |     // Detect if text is primarily Hebrew (RTL) or English (LTR)
      147 |     const isHebrew = (text: string) => {
    > 148 |       const hebrewChars = (text.match(/[\u0590-\u05FF]/g) || []).length;
          |                                 ^
      149 |       const totalChars = text.replace(/<[^>]*>/g, '').length; // Remove HTML tags
      150 |       return hebrewChars > totalChars * 0.1; // More than 10% Hebrew characters
      151 |     };

      at match (components/topics/ArticleReader.tsx:148:33)
      at isHebrew (components/topics/ArticleReader.tsx:153:27)
      at renderParagraphWithStatements (components/topics/ArticleReader.tsx:276:22)
          at Array.map (<anonymous>)
      at map (components/topics/ArticleReader.tsx:265:29)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components.test.tsx:150:11)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 11 passed, 12 total
Snapshots:   0 total
Time:        0.401 s, estimated 1 s
Ran all test suites matching __tests__/components.test.tsx.
